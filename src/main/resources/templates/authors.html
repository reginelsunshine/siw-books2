<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>SiwBooks2 – Autori</title>
    <link rel="stylesheet" href="/css/stile.css" />
</head>

<body>
    <header>
        <!-- Mostra solo se utente è autenticato -->
        <div th:if="${userDetails != null}">
            <span th:text="${userDetails.username}"></span>
            <a href="/logout">Logout</a>
        </div>
        <!-- Mostra solo se utente NON è autenticato -->
        <div th:if="${userDetails == null}">
            <a href="/login">Login</a>
        </div>
    </header>

    <div class="logo">
        <a href="/"><img src="/images/logo-siw.png" alt="Logo SiwBooks2" width="20%"></a>
    </div>

    <h1>Autori</h1>

    <!-- Messaggio lista vuota -->
    <div class="empty-list"
         th:if="${authors == null || authors.isEmpty()}">
        Non ci sono autori nel sistema
    </div>

    <!-- Lista autori -->
    <ul class="authors-list" th:if="${authors != null}">
        <li class="author-item" th:each="author : ${authors}">
            <img class="author-photo"
                 th:src="@{'/author/image/' + ${author.id}}"
                 alt="Foto autore"
                 width="60" height="60"
                 onerror="this.onerror=null;this.src='/images/default-author.png';">

            <a class="author-name"
               th:href="@{'/author/' + ${author.id}}"
               th:text="${author.name + ' ' + author.surname}">
               Nome Cognome
            </a>
        </li>
    </ul>
</body>
</html>
