<!DOCTYPE html>
<html>
<head>
<title>Libro</title>
<link rel="stylesheet" href="/css/stile.css" />
</head>
<body>
	<header>
		<!-- Mostra solo se utente è autenticato -->
		<div th:if="${userDetails != null}">
			<span th:text="${userDetails.username}"></span> <a href="/logout">Logout</a>
		</div>
		<!-- Mostra solo se utente NON è autenticato -->
		<div th:if="${userDetails == null}">
			<a href="/login">Login</a>
		</div>
	</header>

	<div>
		<a href="/"><img src="/images/logo-siw.png" width="20%" /></a>
	</div>
	<h1>Dettagli Libro</h1>
	<div th:if="${book}">
		<span th:text="${book.title}">Up!</span> <span
			th:text="'(' + ${book.yearOfPublication} + ')'">2000</span> <span>
			<img th:src="@{/book/image/{id}(id=${book.id})}" alt="Immagine libro"
			width="200" />

		</span>
	</div>
	<div th:unless="${book}">Non esiste</div>

<h2>Recensioni</h2>

<div th:if="${reviews.size() == 0}">
    <p>Nessuna recensione disponibile.</p>
</div>

<ul th:each="review : ${reviews}">
    <li>
        <strong th:text="${review.user.name}">Utente</strong> - 
        <span th:text="${review.title}">Titolo</span>:
        <em th:text="${review.content}">Testo</em> 
        (Voto: <span th:text="${review.rating}"></span>)
    </li>
</ul>


</body>
</html>